{"ast":null,"code":"import _slicedToArray from\"/Users/funglam/Desktop/HRManagementSystem/ManagementSystemFE_2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Modal,Button}from\"antd\";import{useContext,useState,useEffect}from\"react\";import{AppContext}from\"../employeeTable\";import{InitContext}from\"../../Layout/appLayout\";import{getLabelMap}from\"../../common\";import\"./index.css\";import{deleteEmployee}from\"../../api/employee\";import{jsx as _jsx}from\"react/jsx-runtime\";var AlertModal=function AlertModal(_ref){var id=_ref.id,name=_ref.name;var _useContext=useContext(AppContext),initForm=_useContext.initForm,alert=_useContext.alert,iniEmployees=_useContext.iniEmployees;var _alert=_slicedToArray(alert,2),alertVisible=_alert[0],setAlertVisible=_alert[1];var _initForm=_slicedToArray(initForm,2),initFormVal=_initForm[0],setInitFormVal=_initForm[1];var _useContext2=useContext(InitContext),fieldLabel=_useContext2.fieldLabel;var _useState=useState(new Map()),_useState2=_slicedToArray(_useState,2),labelMap=_useState2[0],setLabelMap=_useState2[1];var deleMsg=\"Are you sure to delete ?\";var handleOk=function handleOk(){if(initFormVal&&initFormVal.id){deleteEmployee(initFormVal.id).then(function(rsp){iniEmployees();}).catch(function(err){console.log(err);});}setAlertVisible(false);};var handleCancel=function handleCancel(){setAlertVisible(false);};useEffect(function(){if(fieldLabel){var _labelMap=getLabelMap(fieldLabel,\"ALERTMODAL\");setLabelMap(_labelMap);}},[fieldLabel]);if(initFormVal&&initFormVal.name){deleMsg=labelMap&&labelMap.get(\"A1\")?labelMap.get(\"A1\")+\" \"+initFormVal.name+\"?\":\"Are you sure to delete ?\";}return/*#__PURE__*/_jsx(Modal,{width:1000,className:\"modal-content\",title:labelMap&&labelMap.get(\"A4\")?labelMap.get(\"A4\"):\"WARNING\",visible:alertVisible,onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{onClick:handleCancel,className:\"modalNoButton\",children:labelMap&&labelMap.get(\"A3\")?labelMap.get(\"A3\"):\"No\"},\"cancel\"),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleOk,className:\"modalOkButton\",children:labelMap&&labelMap.get(\"A2\")?labelMap.get(\"A2\"):\"Yes\"},\"ok\")],children:/*#__PURE__*/_jsx(\"p\",{children:deleMsg})});};export default AlertModal;","map":{"version":3,"sources":["/Users/funglam/Desktop/HRManagementSystem/ManagementSystemFE_2/src/components/modal/alertModal.jsx"],"names":["Modal","Button","useContext","useState","useEffect","AppContext","InitContext","getLabelMap","deleteEmployee","AlertModal","id","name","initForm","alert","iniEmployees","alertVisible","setAlertVisible","initFormVal","setInitFormVal","fieldLabel","Map","labelMap","setLabelMap","deleMsg","handleOk","then","rsp","catch","err","console","log","handleCancel","get"],"mappings":"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","sourcesContent":["import { Modal, Button } from \"antd\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { AppContext } from \"../employeeTable\";\nimport { InitContext } from \"../../Layout/appLayout\";\nimport { getLabelMap } from \"../../common\";\nimport \"./index.css\";\nimport { deleteEmployee } from \"../../api/employee\";\nconst AlertModal = ({ id, name }) => {\n  const { initForm, alert, iniEmployees } = useContext(AppContext);\n  const [alertVisible, setAlertVisible] = alert;\n  const [initFormVal, setInitFormVal] = initForm;\n  const { fieldLabel } = useContext(InitContext);\n  const [labelMap, setLabelMap] = useState(new Map());\n\n  let deleMsg = \"Are you sure to delete ?\";\n\n  const handleOk = () => {\n    if (initFormVal && initFormVal.id) {\n      deleteEmployee(initFormVal.id)\n        .then((rsp) => {\n          iniEmployees();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    setAlertVisible(false);\n  };\n\n  const handleCancel = () => {\n    setAlertVisible(false);\n  };\n\n  useEffect(() => {\n    if (fieldLabel) {\n      let labelMap = getLabelMap(fieldLabel, \"ALERTMODAL\");\n      setLabelMap(labelMap);\n    }\n  }, [fieldLabel]);\n\n  if (initFormVal && initFormVal.name) {\n    deleMsg =\n      labelMap && labelMap.get(\"A1\")\n        ? labelMap.get(\"A1\") + \" \" + initFormVal.name + \"?\"\n        : \"Are you sure to delete ?\";\n  }\n\n  return (\n    <Modal\n      width={1000}\n      className=\"modal-content\"\n      title={labelMap && labelMap.get(\"A4\") ? labelMap.get(\"A4\") : \"WARNING\"}\n      visible={alertVisible}\n      onCancel={handleCancel}\n      footer={[\n        <Button key=\"cancel\" onClick={handleCancel} className=\"modalNoButton\">\n          {labelMap && labelMap.get(\"A3\") ? labelMap.get(\"A3\") : \"No\"}\n        </Button>,\n        <Button\n          key=\"ok\"\n          type=\"primary\"\n          onClick={handleOk}\n          className=\"modalOkButton\"\n        >\n          {labelMap && labelMap.get(\"A2\") ? labelMap.get(\"A2\") : \"Yes\"}\n        </Button>,\n      ]}\n    >\n      <p>{deleMsg}</p>\n    </Modal>\n  );\n};\n\nexport default AlertModal;\n"]},"metadata":{},"sourceType":"module"}